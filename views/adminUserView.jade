extends layout

block content
  .main
    div.header
        a(href='/admin/users/#{user.email}' class='btn btn-primary') Welcome, #{user.name_given} #{user.name_family}
    .container
      h1= title
      h2 Administration

      ul.nav.nav-tabs(role='tablist')
        li.active
          a(href='/admin/users') Administer Users
        li
          a(href='/admin/apps') Administer Client Keys

      .container
        .row
          p.admin-lead-in View user "#{account.email}".

          if message
            div.messages(class='alert alert-warning', role='alert') !{message}

          div
            ul
              li
                strong
                  User Id/Email:&nbsp;
                span
                  a(href='/admin/users/#{account.email}') #{account.email}
              li
                strong Name:&nbsp;
                span #{account.name_given} #{account.name_family}
              li
                strong Recovery Email:&nbsp;
                a(href='mailto:#{account.email_recovery}') #{account.email_recovery}

              li
                strong Status:&nbsp;
                if account.active
                  span Active
                else
                  span Inactive
              if account.roles.length
                li
                  strong Roles:&nbsp;
                  each role, i in account.roles
                    ul
                      li #{role}

          div(class='btn-toolbar' role='toolbar')
            each op, i in actions
              if op.display
                div(class='btn-group' role='group')
                  a(href='#{op.uri}' class='btn btn-default') #{op.label}


    each action, i in actions
      if action.display
        div
          div(id='#{action.id}')
            a.close-modal(href='#')
              span.fa.fa-angle-left
            include ./confirmForm.jade


